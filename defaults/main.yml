---
# defaults for vbotka.rcb

ubuntu_cache_valid_time: 14400
rcb_debug: "no"
rcb_test: "no"

# source
rcb_source_ignore_current_lock: "no"
rcb_source_version: "1.0.1"
rcb_source_file: "{{rcb_source_version}}.tar.gz"
rcb_source_dir: "rcb-{{rcb_source_version}}"
rcb_source_dest: "/usr/local/src"
rcb_source_url: "https://github.com/vbotka/rcb/archive"

# directories
rcb_root_public_keys_dir: "/tmp"
rcb_bin_dir: "/root/bin"
rcb_etc_dir: "/usr/local/etc"
rcb_snapshot_root: "/scratch/rcb/backup/snapshots"

# conf
rcb_conf: "rcb.conf"
rcb_rsnapshot_conf: "rsnapshot.conf"

# rcb.conf
#
# RCB_HOST will be replaced with ansible_hostname
rcb_RCB_EMAIL: "root"
rcb_RCB_BCK_ROOT: "/scratch/rcb/backup"
rcb_RCB_BCK_PREFIX: "snapshots/hourly.0"
# path length of $RCB_BCK_ROOT/$RCB_BCK_PREFIX
rcb_RSYNCRYPTO_TRIM_E: "5"
# path length of $RCB_BCK_ROOT/enc
rcb_RSYNCRYPTO_TRIM_D: "4"
rcb_RCB_RST_ROOT: "/scratch/rcb/restore"
rcb_RCB_CRT_ROOT: "/scratch/rcb/cert"

# certificate
rcb_cert_CN: "example.com"
rcb_privatekey_cipher: "AES-256-CBC"
rcb_privatekey_passphrase: "passphrase"
rcb_privatekey_passphrase_file: "{{rcb_RCB_CRT_ROOT }}/pem-pass-phrase"
rcb_privatekey_passphrase_owner: "root"
rcb_privatekey_passphrase_group: "admin"
rcb_privatekey_passphrase_mode: "0640"

# backup server
#rcb_BCK_HOST: "example.com"
rcb_BCK_HOST: "FQN-OF-BACKUP-SERVER"
rcb_BCK_USER: "rcbackup"
rcb_BCK_GROUP: "rcbackup"
rcb_BCK_DST: "/scratch/rcb"
# BCK_DST will be replaced with rcb_BCK_DST/ansible_hostname

# configure rcb-rsync-back.sh --link in rcb-daily-encrypt-rsync-decrypt-restore.sh
rcb_link_restore: "yes"

# cron
rcb_rsnapshot_cron: "no"
rcb_rsnapshot_cron_user: "root"
rcb_rsnapshot_cron_path: "{{ rcb_bin_dir }}:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
rcb_rsnapshot_cron_mailto: "root"
rcb_rsnapshot_cron_hourly_hour: "*/4"
rcb_rsnapshot_cron_hourly_minute: "15"
rcb_rsnapshot_cron_hourly_command: "rcb-rsnapshot.sh -i=hourly"
rcb_rsnapshot_cron_daily_hour: "5"
rcb_rsnapshot_cron_daily_minute: "15"
rcb_rsnapshot_cron_daily_command: "rcb-daily-encrypt-rsync-decrypt-restore.sh"
rcb_rsnapshot_cron_weekly_hour: "1"
rcb_rsnapshot_cron_weekly_minute: "15"
rcb_rsnapshot_cron_weekly_day: "1"
rcb_rsnapshot_cron_weekly_command: "rcb-rsnapshot.sh -i=weekly"
rcb_rsnapshot_cron_monthly_hour: "2"
rcb_rsnapshot_cron_monthly_minute: "15"
rcb_rsnapshot_cron_monthly_day: "1"
rcb_rsnapshot_cron_monthly_command: "rcb-rsnapshot.sh -i=monthly"

#MAILTO="root"
#15 */4 * * *rcb-rsnapshot.sh -i=hourly
#15 1   * * 1rcb-rsnapshot.sh -i=weekly
#15 2   1 * *rcb-rsnapshot.sh -i=monthly
#15 5   * * *rcb-daily-encrypt-rsync-decrypt-restore.sh

# EOF
...
